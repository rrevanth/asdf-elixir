#!/usr/bin/env bash

releases_path=https://api.github.com/repos/elixir-lang/elixir/releases
branches_path=https://api.github.com/repos/elixir-lang/elixir/branches
# Fetch all tag names, and get only second column. Then remove all unnecesary characters.

releases=$(curl -qs $releases_path | tr ',' '\n' | grep '"tag_name":')
releases=${releases//\"tag_name\":/}
releases=${releases//[\",]/}
releases=${releases//v/}

branches=$(curl -qs $branches_path | tr ',' '\n' | grep '"name":')
branches=${branches//\"name\":/}
branches=${branches//[\",]/}

echo -e "Elixir\treleases:\v"$releases" \vElixir\tbranches:\v"$branches